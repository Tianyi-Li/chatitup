(this.webpackJsonpreactexercises=this.webpackJsonpreactexercises||[]).push([[0],{131:function(e,t){},139:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(9),l=a.n(o),s=a(19),i=a(84),c=a(85),m=a.n(c),u=a(172),g=a(183),f=a(173),p=a(174),d=a(175),h=a(176),E=a(180),y=a(35),b=a(177),v=a(184),x=a(178),k=a(182),w=a(179),N=a(89),j=Object(N.a)({typography:{useNextVariants:!0},palette:{common:{black:"#000",white:"#fff"},background:{paper:"#fff",default:"#fafafa"},primary:{light:"#7986cb",main:"rgba(3, 18, 106, 1)",dark:"#303f9f",contrastText:"#fff"},secondary:{light:"#ff4081",main:"rgba(134, 4, 248, 1)",dark:"#c51162",contrastText:"#fff"},error:{light:"#e57373",main:"#f44336",dark:"#d32f2f",contrastText:"#fff"},text:{primary:"rgba(3, 9, 165, 1)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"}}}),S=a(166),C=a(163),T=(a(79),function(e){var t=e.msg;return r.a.createElement("div",{className:"messageBubble",style:{backgroundColor:t.colour}},r.a.createElement("span",{style:{fontSize:"smaller"}},t.from," says:"),r.a.createElement("span",{style:{float:"right"}},"Room:",t.roomName),r.a.createElement("br",null),r.a.createElement("span",{style:{float:"right"}},"@:",t.time),r.a.createElement("br",null),r.a.createElement("p",null),r.a.createElement("span",null,t.text))}),R=function(e){var t=e.msg;return r.a.createElement("div",{className:"messageBubble2",style:{backgroundColor:t.colour}},r.a.createElement("span",{style:{fontSize:"smaller"}},t.from," says:"),r.a.createElement("span",{style:{float:"right"}},"Room:",t.roomName),r.a.createElement("br",null),r.a.createElement("span",{style:{float:"right"}},"@:",t.time),r.a.createElement("br",null),r.a.createElement("p",null),r.a.createElement("span",null,t.text))},O=function(e){return r.a.createElement("div",{style:{content:"",position:"absolute",bottom:"-15px",left:"".concat(e.alignTriangle,"%"),borderWidth:"15px 15px 0",borderStyle:"solid",borderColor:"".concat(e.msg.colour," transparent")}})},J=function(e){var t=Object(n.useRef)(null);return Object(n.useEffect)((function(){t.current.scrollIntoView(!0)}),[]),r.a.createElement("div",null,r.a.createElement(C.a,{ref:t,style:{textAlign:"left",marginBottom:"5px"}},e.message.isMe&&r.a.createElement(R,{msg:e.message}),!e.message.isMe&&r.a.createElement(T,{msg:e.message}),r.a.createElement(O,{msg:e.message,alignTriangle:e.message.right})))},D=function(e){var t=e.messages.map((function(e,t){return r.a.createElement(J,{key:t,message:e})}));return r.a.createElement(S.a,null,t)},M=a(88),U=a.n(M),A=a(167),B=a(168),F=a(169),I=function(e){return r.a.createElement(A.a,{position:"static"},r.a.createElement(B.a,{color:"primary",title:"Chat it Up! - Info3139"},r.a.createElement(y.a,{variant:"h6",color:"inherit"},"Chat it Up! - Info3139"),e.isJoin&&r.a.createElement("section",{style:{height:90,width:90,marginLeft:"auto"}},r.a.createElement(F.a,{onClick:function(){return e.viewDialog()}},r.a.createElement(U.a,{style:{color:"white",height:70,width:70}})))))},L=a(170),q=a(171),z=function(){return r.a.createElement(L.a,{style:{textAlign:"center",paddingTop:"3vh"}},r.a.createElement("img",{src:"./chat.png",alt:"chat",height:"50"}),r.a.createElement(q.a,{title:"Sign in",color:"inherit",style:{textAlign:"center",paddingTop:"1vh"}}))},K=function(){var e=Object(n.useReducer)((function(e,t){return Object(i.a)({},e,{},t)}),{messages:[],status:"enter a chat name",roomStatus:"enter a room name",showjoinfields:!0,alreadyexists:!1,chatName:"",typingMsg:"",isTyping:!1,message:"",openDialog:!1,preRoom:["main"],roomSelected:"",roomUsers:[]}),t=Object(s.a)(e,2),a=t[0],o=t[1],l=function(e){O(e),o({showjoinfields:!1,alreadyexists:!1})},c=function(e){o({status:e.text})};Object(n.useEffect)((function(){N()}),[]);var N=function(){var e=m()();e.on("nameexists",c),e.on("welcome",l),e.on("someonejoined",O),e.on("someoneleft",O),e.on("someoneistyping",R),e.on("newmessage",T),e.on("previousroom",C),e.on("roomusers",S),o({socket:e})},S=function(e){o({roomUsers:e.roomUsers})},C=function(e){o({preRoom:e.preroom})},T=function(e){O(e),o({typingMsg:"",message:""})},R=function(e){e.from!==a.chatName&&o({typingMsg:e.text})},O=function(e){var t=a.messages;t.push(e),o({messages:t})},J=function(e){o({roomSelected:e.target.value,roomStatus:""})};return r.a.createElement(u.a,{theme:j},r.a.createElement(I,{viewDialog:function(){return o({openDialog:!0})},isJoin:!a.showjoinfields}),r.a.createElement(g.a,{open:a.openDialog,onClose:function(){return o({openDialog:!1})},style:{margin:20}},r.a.createElement(f.a,{style:{textAlign:"center"}},"Who's On?"),a.roomUsers.map((function(e,t){return r.a.createElement(p.a,{key:t},"".concat(e.chatName," is in room ").concat(e.chatRoom))}))),r.a.createElement(d.a,null,r.a.createElement(h.a,null,a.showjoinfields&&r.a.createElement(z,null),a.showjoinfields&&r.a.createElement(n.Fragment,null,r.a.createElement("div",{style:{border:"1px solid black",padding:"15px"}},r.a.createElement(E.a,{onChange:function(e){o({chatName:e.target.value,status:""})},placeholder:"Chat Name",autoFocus:!0,required:!0,value:a.chatName,error:""!==a.status,helperText:a.status})),r.a.createElement("p",null)),a.showjoinfields&&r.a.createElement("div",{style:{border:"1px solid black",padding:"15px"}},r.a.createElement(y.a,{color:"inherit"},"Join Existing or Enter Room Name"),r.a.createElement(b.a,{component:"fieldset"},r.a.createElement(v.a,{"aria-label":"gender",name:"gender1",onChange:function(e){return o({roomSelected:e.target.value,roomStatus:""})}},a.preRoom.map((function(e,t){return r.a.createElement(x.a,{value:e,control:r.a.createElement(k.a,null),label:e,key:t})})),r.a.createElement(E.a,{onChange:J,placeholder:"Room Name",autoFocus:!0,required:!0,value:a.roomSelected,error:""!==a.roomStatus&&""===a.roomSelected,helperText:a.roomStatus,onKeyPress:function(e){return"Enter"===e.key?J():null}})))),r.a.createElement("p",null),a.showjoinfields&&r.a.createElement(w.a,{variant:"contained",color:"primary",style:{marginLeft:"3%"},onClick:function(){return a.socket.emit("join",{chatName:a.chatName,roomName:a.roomSelected}),void console.log("handleJoin ")},disabled:""===a.chatName||""===a.roomSelected},"Join"),!a.showjoinfields&&r.a.createElement("div",{className:"messageList"},r.a.createElement(D,{messages:a.messages})),!a.showjoinfields&&r.a.createElement(E.a,{onChange:function(e){o({message:e.target.value}),!1===a.isTyping&&(a.socket.emit("typing",{from:a.chatName},(function(e){})),o({isTyping:!0}))},placeholder:"type something here",autoFocus:!0,value:a.message,onKeyPress:function(e){return"Enter"===e.key?void(""!==a.message&&(a.socket.emit("message",{from:a.chatName,text:a.message},(function(e){})),o({isTyping:!1}))):null}}),r.a.createElement("div",null,r.a.createElement(y.a,{color:"primary"},a.typingMsg)))))};l.a.render(r.a.createElement(K,null),document.getElementById("root"))},79:function(e,t,a){},98:function(e,t,a){e.exports=a(139)}},[[98,1,2]]]);